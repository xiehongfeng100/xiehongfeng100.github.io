<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Linux 内核学习笔记：内核引导程序概况及 BIOS | Max&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="本文主要记录 Linux 0.11 内核引导程序概况以及简单阐述 BIOS 与内核相关部分。 Linux 0.11 内核引导程序概况Linux 0.11 内核源码（或在线浏览）boot目录下总共有 3 个文件：bootsect.s、setup.s和head.s。其中，前两者用 Intel 8086 汇编语法写成，需要使用 Intel 8086 汇编编译器 as86 和链接器 ld86 来进行编译和">
<meta name="keywords" content="Linux,内核,引导程序,BIOS,母板,内存映射 I&#x2F;O">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 内核学习笔记：内核引导程序概况及 BIOS">
<meta property="og:url" content="http://xiehongfeng100.github.io/2016/01/30/linux-kenel-0-11-topic-boot-part1/index.html">
<meta property="og:site_name" content="Max&#39;s Blog">
<meta property="og:description" content="本文主要记录 Linux 0.11 内核引导程序概况以及简单阐述 BIOS 与内核相关部分。 Linux 0.11 内核引导程序概况Linux 0.11 内核源码（或在线浏览）boot目录下总共有 3 个文件：bootsect.s、setup.s和head.s。其中，前两者用 Intel 8086 汇编语法写成，需要使用 Intel 8086 汇编编译器 as86 和链接器 ld86 来进行编译和">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://xiehongfeng100.github.io/images/os/linux-kenel-0.11/boot/part1/从系统加电起所执行程序的顺序.png">
<meta property="og:image" content="http://xiehongfeng100.github.io/images/os/linux-kenel-0.11/boot/part1/启动引导时内核在内存中的位置和移动后的位置情况.png">
<meta property="og:image" content="http://xiehongfeng100.github.io/images/os/linux-kenel-0.11/boot/part1/motherboard.png">
<meta property="og:image" content="http://xiehongfeng100.github.io/images/os/linux-kenel-0.11/boot/part1/memorymapio.png">
<meta property="og:image" content="http://xiehongfeng100.github.io/images/os/linux-kenel-0.11/boot/part1/bootMemoryRegions.png">
<meta property="og:image" content="http://xiehongfeng100.github.io/images/os/linux-kenel-0.11/boot/part1/BIOS在内存中加载中断向量表和中断服务程序.png">
<meta property="og:updated_time" content="2019-05-01T06:50:59.297Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux 内核学习笔记：内核引导程序概况及 BIOS">
<meta name="twitter:description" content="本文主要记录 Linux 0.11 内核引导程序概况以及简单阐述 BIOS 与内核相关部分。 Linux 0.11 内核引导程序概况Linux 0.11 内核源码（或在线浏览）boot目录下总共有 3 个文件：bootsect.s、setup.s和head.s。其中，前两者用 Intel 8086 汇编语法写成，需要使用 Intel 8086 汇编编译器 as86 和链接器 ld86 来进行编译和">
<meta name="twitter:image" content="http://xiehongfeng100.github.io/images/os/linux-kenel-0.11/boot/part1/从系统加电起所执行程序的顺序.png">
  
    <link rel="alternative" href="/atom.xml" title="Max&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="img/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/author.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Max</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Stay hungry, stay foolish.</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/categories/读书">读书</a></li>
				        
							<li><a href="/tags/翻译">翻译</a></li>
				        
							<li><a href="/categories/网络">网络</a></li>
				        
							<li><a href="/categories/并发">并发</a></li>
				        
							<li><a href="/categories/安全">安全</a></li>
				        
							<li><a href="/categories/运维">运维</a></li>
				        
							<li><a href="/categories/数据库">数据库</a></li>
				        
							<li><a href="/categories/云计算">云计算</a></li>
				        
							<li><a href="/categories/编程语言">编程语言</a></li>
				        
							<li><a href="/categories/操作系统">操作系统</a></li>
				        
							<li><a href="/categories/机器学习">机器学习</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/xiehongfeng100" title="github">github</a>
					        
								<a class="linkedin" target="_blank" href="http://cn.linkedin.com/in/xiehongfeng100" title="linkedin">linkedin</a>
					        
								<a class="mail" target="_blank" href="mailto:xiehongfeng100@hotmail.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/tmp/" style="font-size: 10px;">/tmp</a> <a href="/tags/AT-T/" style="font-size: 10px;">AT&T</a> <a href="/tags/Affin/" style="font-size: 10px;">Affin</a> <a href="/tags/Alembic/" style="font-size: 10px;">Alembic</a> <a href="/tags/B-树/" style="font-size: 10px;">B+ 树</a> <a href="/tags/BIOS/" style="font-size: 10px;">BIOS</a> <a href="/tags/Buffer-Pool/" style="font-size: 10px;">Buffer Pool</a> <a href="/tags/C-C/" style="font-size: 16.67px;">C/C++</a> <a href="/tags/CA/" style="font-size: 10px;">CA</a> <a href="/tags/CBOW/" style="font-size: 10px;">CBOW</a> <a href="/tags/CNN/" style="font-size: 10.83px;">CNN</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/Decorator/" style="font-size: 10px;">Decorator</a> <a href="/tags/Django/" style="font-size: 10px;">Django</a> <a href="/tags/Dnsmasq/" style="font-size: 10px;">Dnsmasq</a> <a href="/tags/ELF/" style="font-size: 10px;">ELF</a> <a href="/tags/ELK/" style="font-size: 10px;">ELK</a> <a href="/tags/Elasticsearch/" style="font-size: 11.67px;">Elasticsearch</a> <a href="/tags/GCC/" style="font-size: 10px;">GCC</a> <a href="/tags/HBR/" style="font-size: 10px;">HBR</a> <a href="/tags/IO-Multiplexing/" style="font-size: 11.67px;">IO Multiplexing</a> <a href="/tags/IPTables/" style="font-size: 10px;">IPTables</a> <a href="/tags/Immunity-Debugger/" style="font-size: 10px;">Immunity Debugger</a> <a href="/tags/InnoDB/" style="font-size: 15.83px;">InnoDB</a> <a href="/tags/KD-Tree/" style="font-size: 10.83px;">KD-Tree</a> <a href="/tags/KNN/" style="font-size: 10px;">KNN</a> <a href="/tags/KVM/" style="font-size: 10px;">KVM</a> <a href="/tags/Kali-Linux/" style="font-size: 10px;">Kali Linux</a> <a href="/tags/Keras/" style="font-size: 10px;">Keras</a> <a href="/tags/Keystone/" style="font-size: 13.33px;">Keystone</a> <a href="/tags/Kibana/" style="font-size: 10px;">Kibana</a> <a href="/tags/Lemmatization/" style="font-size: 10px;">Lemmatization</a> <a href="/tags/Libvirt/" style="font-size: 10.83px;">Libvirt</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/LinuxBridge/" style="font-size: 11.67px;">LinuxBridge</a> <a href="/tags/Logging/" style="font-size: 10px;">Logging</a> <a href="/tags/Logstash/" style="font-size: 10px;">Logstash</a> <a href="/tags/MRO/" style="font-size: 10px;">MRO</a> <a href="/tags/Metasploit-Framwork/" style="font-size: 10px;">Metasploit Framwork</a> <a href="/tags/MySQL/" style="font-size: 16.67px;">MySQL</a> <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/Namespace/" style="font-size: 10px;">Namespace</a> <a href="/tags/Neo4J/" style="font-size: 10.83px;">Neo4J</a> <a href="/tags/Neutron/" style="font-size: 13.33px;">Neutron</a> <a href="/tags/Nova/" style="font-size: 14.17px;">Nova</a> <a href="/tags/OpenStack/" style="font-size: 17.5px;">OpenStack</a> <a href="/tags/OpenVSwitch/" style="font-size: 10px;">OpenVSwitch</a> <a href="/tags/PKI/" style="font-size: 10.83px;">PKI</a> <a href="/tags/PasteDeploy/" style="font-size: 10.83px;">PasteDeploy</a> <a href="/tags/Policy/" style="font-size: 10px;">Policy</a> <a href="/tags/Python/" style="font-size: 18.33px;">Python</a> <a href="/tags/QEMU/" style="font-size: 10px;">QEMU</a> <a href="/tags/RBAC/" style="font-size: 10px;">RBAC</a> <a href="/tags/RPC/" style="font-size: 10px;">RPC</a> <a href="/tags/Redo-Log/" style="font-size: 10px;">Redo Log</a> <a href="/tags/SQLAlchemy-Migrate/" style="font-size: 10px;">SQLAlchemy-Migrate</a> <a href="/tags/SSL/" style="font-size: 10px;">SSL</a> <a href="/tags/Sigmoid/" style="font-size: 10px;">Sigmoid</a> <a href="/tags/Skip-Gram/" style="font-size: 10px;">Skip-Gram</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/Stop-Words/" style="font-size: 10px;">Stop Words</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/Tap/" style="font-size: 10.83px;">Tap</a> <a href="/tags/Token/" style="font-size: 11.67px;">Token</a> <a href="/tags/Tokenization/" style="font-size: 10px;">Tokenization</a> <a href="/tags/Trampolining/" style="font-size: 10px;">Trampolining</a> <a href="/tags/Tun/" style="font-size: 10.83px;">Tun</a> <a href="/tags/Tunnel/" style="font-size: 10px;">Tunnel</a> <a href="/tags/UUID/" style="font-size: 10px;">UUID</a> <a href="/tags/Undo-Log/" style="font-size: 10px;">Undo Log</a> <a href="/tags/VNC/" style="font-size: 10px;">VNC</a> <a href="/tags/VPN/" style="font-size: 10px;">VPN</a> <a href="/tags/Veth/" style="font-size: 11.67px;">Veth</a> <a href="/tags/VirtualBox/" style="font-size: 10px;">VirtualBox</a> <a href="/tags/Vlan/" style="font-size: 10px;">Vlan</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/WSGI/" style="font-size: 13.33px;">WSGI</a> <a href="/tags/Webob/" style="font-size: 10px;">Webob</a> <a href="/tags/Word2Vec/" style="font-size: 10.83px;">Word2Vec</a> <a href="/tags/Yelper/" style="font-size: 15px;">Yelper</a> <a href="/tags/bootsect/" style="font-size: 10px;">bootsect</a> <a href="/tags/cookiecutter/" style="font-size: 10px;">cookiecutter</a> <a href="/tags/delete/" style="font-size: 10px;">delete</a> <a href="/tags/dnsmasq/" style="font-size: 10px;">dnsmasq</a> <a href="/tags/entry-points/" style="font-size: 10px;">entry_points</a> <a href="/tags/epoll/" style="font-size: 10px;">epoll</a> <a href="/tags/fork/" style="font-size: 10px;">fork</a> <a href="/tags/head/" style="font-size: 10px;">head</a> <a href="/tags/inode/" style="font-size: 10px;">inode</a> <a href="/tags/malloc/" style="font-size: 10px;">malloc</a> <a href="/tags/mona/" style="font-size: 10px;">mona</a> <a href="/tags/new/" style="font-size: 10px;">new</a> <a href="/tags/property/" style="font-size: 10px;">property</a> <a href="/tags/read/" style="font-size: 10px;">read</a> <a href="/tags/routes/" style="font-size: 10px;">routes</a> <a href="/tags/select/" style="font-size: 10px;">select</a> <a href="/tags/setup/" style="font-size: 10px;">setup</a> <a href="/tags/setuptools/" style="font-size: 10px;">setuptools</a> <a href="/tags/shell/" style="font-size: 10.83px;">shell</a> <a href="/tags/stevedore/" style="font-size: 10px;">stevedore</a> <a href="/tags/string/" style="font-size: 10px;">string</a> <a href="/tags/tcpdump/" style="font-size: 10px;">tcpdump</a> <a href="/tags/uWSGI/" style="font-size: 10px;">uWSGI</a> <a href="/tags/update-进程/" style="font-size: 10px;">update 进程</a> <a href="/tags/write/" style="font-size: 10px;">write</a> <a href="/tags/wsgiref/" style="font-size: 10px;">wsgiref</a> <a href="/tags/yield/" style="font-size: 14.17px;">yield</a> <a href="/tags/中断/" style="font-size: 10.83px;">中断</a> <a href="/tags/事务/" style="font-size: 13.33px;">事务</a> <a href="/tags/任务调度/" style="font-size: 10px;">任务调度</a> <a href="/tags/传记/" style="font-size: 10.83px;">传记</a> <a href="/tags/信号/" style="font-size: 10px;">信号</a> <a href="/tags/信号量/" style="font-size: 10px;">信号量</a> <a href="/tags/内存对齐/" style="font-size: 10px;">内存对齐</a> <a href="/tags/内存映射-I-O/" style="font-size: 10px;">内存映射 I/O</a> <a href="/tags/内存规划/" style="font-size: 10px;">内存规划</a> <a href="/tags/内核/" style="font-size: 19.17px;">内核</a> <a href="/tags/内核栈/" style="font-size: 10px;">内核栈</a> <a href="/tags/分页/" style="font-size: 10px;">分页</a> <a href="/tags/加密/" style="font-size: 10.83px;">加密</a> <a href="/tags/加载/" style="font-size: 10.83px;">加载</a> <a href="/tags/协程/" style="font-size: 13.33px;">协程</a> <a href="/tags/可执行目标文件/" style="font-size: 10.83px;">可执行目标文件</a> <a href="/tags/可重定位目标文件/" style="font-size: 10px;">可重定位目标文件</a> <a href="/tags/同步/" style="font-size: 10px;">同步</a> <a href="/tags/商业/" style="font-size: 11.67px;">商业</a> <a href="/tags/地心坐标系/" style="font-size: 10px;">地心坐标系</a> <a href="/tags/多线程/" style="font-size: 10.83px;">多线程</a> <a href="/tags/多进程/" style="font-size: 10px;">多进程</a> <a href="/tags/字符串/" style="font-size: 10px;">字符串</a> <a href="/tags/存储器/" style="font-size: 10.83px;">存储器</a> <a href="/tags/宏/" style="font-size: 10px;">宏</a> <a href="/tags/寄存器/" style="font-size: 10px;">寄存器</a> <a href="/tags/开发环境/" style="font-size: 10px;">开发环境</a> <a href="/tags/异常/" style="font-size: 10px;">异常</a> <a href="/tags/异步/" style="font-size: 10px;">异步</a> <a href="/tags/引导块/" style="font-size: 10px;">引导块</a> <a href="/tags/引导程序/" style="font-size: 12.5px;">引导程序</a> <a href="/tags/归一化/" style="font-size: 10px;">归一化</a> <a href="/tags/微处理器/" style="font-size: 13.33px;">微处理器</a> <a href="/tags/总结/" style="font-size: 10px;">总结</a> <a href="/tags/情感分析/" style="font-size: 10px;">情感分析</a> <a href="/tags/扩容/" style="font-size: 10px;">扩容</a> <a href="/tags/指令集/" style="font-size: 10px;">指令集</a> <a href="/tags/指针/" style="font-size: 12.5px;">指针</a> <a href="/tags/数字签名/" style="font-size: 10px;">数字签名</a> <a href="/tags/数字证书/" style="font-size: 10px;">数字证书</a> <a href="/tags/整数/" style="font-size: 10px;">整数</a> <a href="/tags/文件系统/" style="font-size: 12.5px;">文件系统</a> <a href="/tags/时钟/" style="font-size: 10px;">时钟</a> <a href="/tags/时钟中断/" style="font-size: 10px;">时钟中断</a> <a href="/tags/时间衰减函数/" style="font-size: 10px;">时间衰减函数</a> <a href="/tags/权限/" style="font-size: 10px;">权限</a> <a href="/tags/标准输入/" style="font-size: 10px;">标准输入</a> <a href="/tags/标准输出/" style="font-size: 10px;">标准输出</a> <a href="/tags/标准错误输出/" style="font-size: 10px;">标准错误输出</a> <a href="/tags/栈帧/" style="font-size: 10px;">栈帧</a> <a href="/tags/栈溢出/" style="font-size: 10px;">栈溢出</a> <a href="/tags/根设备/" style="font-size: 10px;">根设备</a> <a href="/tags/死锁/" style="font-size: 10px;">死锁</a> <a href="/tags/母板/" style="font-size: 10px;">母板</a> <a href="/tags/汇编/" style="font-size: 10px;">汇编</a> <a href="/tags/浮点数/" style="font-size: 10px;">浮点数</a> <a href="/tags/消息摘要/" style="font-size: 10px;">消息摘要</a> <a href="/tags/特权级/" style="font-size: 10px;">特权级</a> <a href="/tags/环境变量/" style="font-size: 10px;">环境变量</a> <a href="/tags/生成器/" style="font-size: 14.17px;">生成器</a> <a href="/tags/用户栈/" style="font-size: 10px;">用户栈</a> <a href="/tags/相似度/" style="font-size: 10.83px;">相似度</a> <a href="/tags/硬盘/" style="font-size: 12.5px;">硬盘</a> <a href="/tags/硬链接/" style="font-size: 10px;">硬链接</a> <a href="/tags/管道/" style="font-size: 10px;">管道</a> <a href="/tags/系统调用/" style="font-size: 10px;">系统调用</a> <a href="/tags/索引/" style="font-size: 10px;">索引</a> <a href="/tags/缓冲区/" style="font-size: 10.83px;">缓冲区</a> <a href="/tags/缓冲区溢出/" style="font-size: 10px;">缓冲区溢出</a> <a href="/tags/缺页中断/" style="font-size: 10px;">缺页中断</a> <a href="/tags/网络/" style="font-size: 13.33px;">网络</a> <a href="/tags/翻译/" style="font-size: 14.17px;">翻译</a> <a href="/tags/虚拟地址空间/" style="font-size: 10px;">虚拟地址空间</a> <a href="/tags/虚拟盘/" style="font-size: 10px;">虚拟盘</a> <a href="/tags/请求项/" style="font-size: 10px;">请求项</a> <a href="/tags/质数/" style="font-size: 10px;">质数</a> <a href="/tags/超级块/" style="font-size: 10px;">超级块</a> <a href="/tags/软盘/" style="font-size: 10px;">软盘</a> <a href="/tags/软链接/" style="font-size: 10px;">软链接</a> <a href="/tags/进程派生/" style="font-size: 10px;">进程派生</a> <a href="/tags/进程通信/" style="font-size: 10.83px;">进程通信</a> <a href="/tags/迭代器/" style="font-size: 10px;">迭代器</a> <a href="/tags/金融/" style="font-size: 10px;">金融</a> <a href="/tags/锁/" style="font-size: 10.83px;">锁</a> <a href="/tags/阻塞/" style="font-size: 10.83px;">阻塞</a> <a href="/tags/非阻塞/" style="font-size: 10.83px;">非阻塞</a> <a href="/tags/黑客/" style="font-size: 10px;">黑客</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">谢宏峰，毕业于暨南大学（2009 - 2013）、中国科学院（2013 - 2016），现就职于深信服科技，从事 OpenStack 开发。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Max</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/img/author.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Max</h1>
			</hgroup>
			
			<p class="header-subtitle">Stay hungry, stay foolish.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/categories/读书">读书</a></li>
		        
					<li><a href="/tags/翻译">翻译</a></li>
		        
					<li><a href="/categories/网络">网络</a></li>
		        
					<li><a href="/categories/并发">并发</a></li>
		        
					<li><a href="/categories/安全">安全</a></li>
		        
					<li><a href="/categories/运维">运维</a></li>
		        
					<li><a href="/categories/数据库">数据库</a></li>
		        
					<li><a href="/categories/云计算">云计算</a></li>
		        
					<li><a href="/categories/编程语言">编程语言</a></li>
		        
					<li><a href="/categories/操作系统">操作系统</a></li>
		        
					<li><a href="/categories/机器学习">机器学习</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/xiehongfeng100" title="github">github</a>
			        
						<a class="linkedin" target="_blank" href="http://cn.linkedin.com/in/xiehongfeng100" title="linkedin">linkedin</a>
			        
						<a class="mail" target="_blank" href="mailto:xiehongfeng100@hotmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-linux-kenel-0-11-topic-boot-part1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/30/linux-kenel-0-11-topic-boot-part1/" class="article-date">
  	<time datetime="2016-01-30T14:26:54.000Z" itemprop="datePublished">2016-01-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Linux 内核学习笔记：内核引导程序概况及 BIOS
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BIOS/">BIOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/内存映射-I-O/">内存映射 I/O</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/内核/">内核</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/引导程序/">引导程序</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/母板/">母板</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/操作系统/">操作系统</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文主要记录 Linux 0.11 内核引导程序概况以及简单阐述 BIOS 与内核相关部分。</p>
<h1 id="Linux-0-11-内核引导程序概况"><a href="#Linux-0-11-内核引导程序概况" class="headerlink" title="Linux 0.11 内核引导程序概况"></a><strong>Linux 0.11 内核引导程序概况</strong></h1><p><a href="http://pan.baidu.com/s/1pJV3fcf" target="_blank" rel="noopener">Linux 0.11 内核源码</a>（或<a href="http://guiquanz.me/p/linux-0.11/index.html" target="_blank" rel="noopener">在线浏览</a>）<code>boot</code>目录下总共有 3 个文件：<code>bootsect.s</code>、<code>setup.s</code>和<code>head.s</code>。其中，前两者用 Intel 8086 汇编语法写成，需要使用 Intel 8086 汇编编译器 as86 和链接器 ld86 来进行编译和链接，工作在<code>实模式（16 位）</code>；最后者用 AT&amp;T 汇编语法写成，需要用 GNU 的 as 和 ld 进行编译和链接，工作在<code>保护模式（32 位）</code>。</p>
<p>对于内核引导程序工作概况，《Linux 内核完全注释》有很简明清晰的描述（简单整理）：  </p>
<blockquote>
<ul>
<li>当 PC 的电源打开后，80x86 结构的 CPU 将自动进入实模式，并从地址 <code>0xFFFF0</code> 开始自动执行程序代码，这个地址通常是 ROM-BIOS 的地址（注：这个说法有问题，请参照后文关于 BIOS 解释）。PC 机的 BIOS 将执行某些系统的检测，并在物理地址 0 处开始初始化中断向量。此后，它将可启动设备的第一个扇区（磁盘引导扇区，512 字节）读入内存绝对地址 0x7C00 处，并跳转到这个地方。启动设备通常是软驱或是硬盘。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Linux 的最前面部分是用 8086 汇编语言编写的（bootsect 模块），它将由 BIOS 读入到内存绝对地址 0x7C00 （31 KB）处，当它被执行时就会把自己“移动”（描述有误，应该是<code>复制</code>）到内存绝对地址 0x90000（576 KB）处，并把启动设备后 2 KB 字节代码（setup 模块）读入到内存 0x90200 处，而内核的其他部分（system 模块）则被读入到从内存地址 0x10000 （64 KB）开始处，因此从加电开始顺序执行的程序如下图所示：  </li>
</ul>
</blockquote>
<p><img src="/images/os/linux-kenel-0.11/boot/part1/从系统加电起所执行程序的顺序.png" alt>图片来源：《Linux 内核完全注释》  </p>
<a id="more"></a>
<blockquote>
<p>因为当时 system 模块的长度不会超过 0x80000 字节大小（即 512 KB），所以 bootsect 程序把 system 模块读入物理地址 0x10000 开始位置处时并不会覆盖在 0x90000 （576 KB）处开始的 bootsect 和 setup 模块。后面 setup 程序将会把 system 模块移动到物理内存起始位置处，这样 system 模块中代码的地址也即等于实际的物理地址，便于对内核代码和数据进行操作。下图清晰地显示出 Linux 系统启动时这几个程序或模块在内存中的动态位置：  </p>
</blockquote>
<p><img src="/images/os/linux-kenel-0.11/boot/part1/启动引导时内核在内存中的位置和移动后的位置情况.png" alt>图片来源：《Linux 内核完全注释》  </p>
<blockquote>
<p>此时所有 32 位运行方式的设置启动已完成： IDT、 GDT 以及 LDT 被加载，处理器和协处理器也已确认，分页工作也已设置好；最终 init/main.c 中的 main 函数被调用。这些操作的源代码在 boot/head.s 中。</p>
</blockquote>
<p>到这里，我们可能有这样的疑问：<code>为什么 bootsect 模块不直接把 system 模块加载到物理内存起始位置处而要由 setup 模块来完成？这是因为在随后执行的 setup 代码开始部分还需要使用 ROM BIOS 的中断调用来获取机器的一些参数（例如显示卡模式、硬盘参数表等）。当 BIOS 初始化时会在物理内存开始处放置一个大小为 0x400 字节的中断向量表，因此需要在使用完 BIOS 的中断调用后才能将这个区域覆盖掉。</code></p>
<blockquote>
<p> 仅在内存中加载了上述内核代码模块并不能让 Linux 系统运行起来。作为完整可运行的 Linux 系统还需要有一个基本的<code>文件系统</code>支持，即根文件系统。 Linux 0.11 内核仅支持 MINIX 的 1.0 文件系统。根文件系统通常是在另一个软盘或者一个硬盘分区中。为了通知内核所需要的根文件系统在什么地方，bootsect.s 程序的第 43 行上给出了根文件系统所在的默认块设备号。</p>
</blockquote>
<h1 id="计算机启动流程及-BIOS"><a href="#计算机启动流程及-BIOS" class="headerlink" title="计算机启动流程及 BIOS"></a><strong>计算机启动流程及 BIOS</strong></h1><h2 id="计算机启动流程"><a href="#计算机启动流程" class="headerlink" title="计算机启动流程"></a><strong>计算机启动流程</strong></h2><p>关于计算机启动流程，<a href="http://www.pcguide.com/ref/mbsys/bios/boot.htm" target="_blank" rel="noopener">PCGUIDE</a> 网站有一个简明的说明：  </p>
<blockquote>
<p>The system BIOS is what starts the computer running when you turn it on. The following are the steps that a typical boot sequence involves. Of course this will vary by the manufacturer of your hardware, BIOS, etc., and especially by what peripherals you have in the PC. Here is what generally happens when you turn on your system power:</p>
</blockquote>
<blockquote>
<ol>
<li>The internal power supply turns on and initializes. The power supply takes some time until it can generate reliable power for the rest of the computer, and having it turn on prematurely could potentially lead to damage. Therefore, the chipset will generate a reset signal to the processor (the same as if you held the reset button down for a while on your case) until it receives the Power Good signal from the power supply.</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>When the reset button is released, the processor will be ready to start executing. When the processor first starts up, it is suffering from amnesia; there is nothing at all in the memory to execute. Of course processor makers know this will happen, so <code>they pre-program the processor to always look at the same place in the system BIOS ROM for the start of the BIOS boot program.</code> This is normally location FFFF0h, right at the end of the system memory. They put it there so that the size of the ROM can be changed without creating compatibility problems. <code>Since there are only 16 bytes left from there to the end of conventional memory, this location just contains a &quot;jump&quot; instruction telling the processor where to go to find the real BIOS startup program.</code></li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li>The BIOS performs the power-on self test (POST). If there are any fatal errors, the boot process stops. POST beep codes can be found in this area of the Troubleshooting Expert.</li>
</ol>
</blockquote>
<blockquote>
<ol start="4">
<li>The BIOS looks for the video card. In particular, it looks for the video card’s built in BIOS program and runs it. This BIOS is normally found at location C000h in memory. The system BIOS executes the video card BIOS, which initializes the video card. Most modern cards will display information on the screen about the video card. (This is why on a modern PC you usually see something on the screen about the video card before you see the messages from the system BIOS itself).</li>
</ol>
</blockquote>
<blockquote>
<ol start="5">
<li>The BIOS then looks for other devices’ ROMs to see if any of them have BIOSes. Normally, the IDE/ATA hard disk BIOS will be found at C8000h and executed. If any other device BIOSes are found, they are executed as well.</li>
</ol>
</blockquote>
<blockquote>
<ol start="6">
<li>The BIOS displays its startup screen.</li>
</ol>
</blockquote>
<blockquote>
<ol start="7">
<li>The BIOS does more tests on the system, including the memory count-up test which you see on the screen. The BIOS will generally display a text error message on the screen if it encounters an error at this point; these error messages and their explanations can be found in this part of the Troubleshooting Expert.</li>
</ol>
</blockquote>
<blockquote>
<ol start="8">
<li>The BIOS performs a “system inventory” of sorts, doing more tests to determine what sort of hardware is in the system. Modern BIOSes have many automatic settings and will determine memory timing (for example) based on what kind of memory it finds. Many BIOSes can also dynamically set hard drive parameters and access modes, and will determine these at roughly this time. Some will display a message on the screen for each drive they detect and configure this way. The BIOS will also now search for and label logical devices (COM and LPT ports).</li>
</ol>
</blockquote>
<blockquote>
<ol start="9">
<li>If the BIOS supports the Plug and Play standard, it will detect and configure Plug and Play devices at this time and display a message on the screen for each one it finds. See here for more details on how PnP detects devices and assigns resources.</li>
</ol>
</blockquote>
<blockquote>
<ol start="10">
<li>The BIOS will display a summary screen about your system’s configuration. Checking this page of data can be helpful in diagnosing setup problems, although it can be hard to see because sometimes it flashes on the screen very quickly before scrolling off the top.</li>
</ol>
</blockquote>
<blockquote>
<ol start="11">
<li>The BIOS begins the search for a drive to boot from. Most modern BIOSes contain a setting that controls if the system should first try to boot from the floppy disk (A:) or first try the hard disk (C:). Some BIOSes will even let you boot from your CD-ROM drive or other devices, depending on the boot sequence BIOS setting.</li>
</ol>
</blockquote>
<blockquote>
<ol start="12">
<li>Having identified its target boot drive, the BIOS looks for boot information to start the operating system boot process. If it is searching a hard disk, it looks for a master boot record at cylinder 0, head 0, sector 1 (the first sector on the disk); if it is searching a floppy disk, it looks at the same address on the floppy disk for a volume boot sector.</li>
</ol>
</blockquote>
<blockquote>
<ol start="13">
<li>If it finds what it is looking for, the BIOS starts the process of booting the operating system, using the information in the boot sector. At this point, the code in the boot sector takes over from the BIOS. The DOS boot process is described in detail here. If the first device that the system tries (floppy, hard disk, etc.) is not found, the BIOS will then try the next device in the boot sequence, and continue until it finds a bootable device.</li>
</ol>
</blockquote>
<blockquote>
<ol start="14">
<li>If no boot device at all can be found, the system will normally display an error message and then freeze up the system. What the error message is depends entirely on the BIOS, and can be anything from the rather clear “No boot device available” to the very cryptic “NO ROM BASIC - SYSTEM HALTED”. This will also happen if you have a bootable hard disk partition but forget to set it active.</li>
</ol>
</blockquote>
<blockquote>
<p>This process is called a “cold boot” (since the machine was off, or cold, when it started). A “warm boot” is the same thing except it occurs when the machine is rebooted using {Ctrl}+{Alt}+{Delete} or similar. In this case the POST is skipped and the boot process continues roughly at step 8 above.</p>
</blockquote>
<h2 id="加载和执行-BIOS"><a href="#加载和执行-BIOS" class="headerlink" title="加载和执行 BIOS"></a><strong>加载和执行 BIOS</strong></h2><p>关于 BIOS，<a href="https://en.wikipedia.org/wiki/BIOS" target="_blank" rel="noopener">维基百科</a>有一个简明扼要的定义：  </p>
<blockquote>
<p>The BIOS (an acronym for Basic Input/Output System and also known as the System BIOS, ROM BIOS or PC BIOS) is a type of firmware used to <code>perform hardware initialization</code> during the booting process (power-on startup) on IBM PC compatible computers, and to <code>provide runtime services for operating systems and programs</code>. The BIOS firmware is built into personal computers (PCs), and it is the first software they run when powered on.</p>
</blockquote>
<p>从上边的分析中我们知道，Linux 内核首先是需要由 BIOS 来加载的，但 <code>BIOS 要由谁来加载呢？</code></p>
<p>在计算机刚开机时，内存空空如也，而 CPU 也只能运行内存中的程序，那 <code>CPU 如何能够执行 BIOS 程序？</code></p>
<p>请看下文。</p>
<h3 id="母板"><a href="#母板" class="headerlink" title="母板"></a><strong>母板</strong></h3><p><a href="http://duartes.org/gustavo/blog/post/motherboard-chipsets-memory-map/" target="_blank" rel="noopener">Motherboard Chipsets and the Memory Map</a> 是一篇特别赞的文章。作者在博文中展示了以 Intel Core 2 为处理器的计算机母板（motherboard）：<br><img src="/images/os/linux-kenel-0.11/boot/part1/motherboard.png" alt><a href="http://duartes.org/gustavo/blog/post/motherboard-chipsets-memory-map/" target="_blank" rel="noopener">图片来源</a>  </p>
<h3 id="内存映射-I-O"><a href="#内存映射-I-O" class="headerlink" title="内存映射 I/O"></a><strong>内存映射 I/O</strong></h3><p>我们知道计算机刚开机时是工作在实模式的，最大的寻址范围是 1MB （0~0xFFFFF）。实模式意味着线性地址等于物理地址。另外，BIOS 作为计算机执行的第一个程序，也是在实模式下被执行的。而且，BIOS 既然能够被执行，就意味着能够被寻址。所以，BIOS 能被寻址的线性地址（或物理地址）范围必定在 1MB 以内。</p>
<p>但是问题就来了，BIOS 被固化在 ROM （或其他如 Flash、EEPROM） 上，但 CPU 并不能够“直接”对 ROM 寻址，也就是说 CPU 执行不了 BIOS 程序。不过既然不能“直接”寻址 ROM，我们可以“间接”寻址啊，哈哈！这就是我们接下来要介绍的 <a href="https://en.wikipedia.org/wiki/Memory-mapped_I/O" target="_blank" rel="noopener">内存映射 I/O (Memory-mapped I/O)</a>。</p>
<p>Memory-mapped I/O 说白了就是将母板上的一些设备（如 ROM、Video cards、PCI cards）的端口映射到内存 RAM 中的某个区域，这样 CPU 通过寻址 RAM 的这些区域可以间接寻址这些设备，也就是说能够执行这些设备上的程序。注意现在计算机是工作在实模式，只要 BIOS 固件被映射到的地址范围在 1MB 以内，计算机通过直接寻址 RAM 就来间接寻址 BIOS，从而达到执行 BIOS 的目的。</p>
<p><a href="http://duartes.org/gustavo/blog/post/motherboard-chipsets-memory-map/" target="_blank" rel="noopener">Motherboard Chipsets and the Memory Map</a>对具体的寻址过程有一个简要描述：  </p>
<blockquote>
<p>When the northbridge receives a physical memory request it decides where to route it: should it go to RAM? Video card maybe? This routing is decided via the memory address map. <code>For each region of physical memory addresses, the memory map knows the device that owns that region.</code> The bulk of the addresses are mapped to RAM, but when they aren’t the memory map tells the chipset which device should service requests for those addresses. This mapping of memory addresses away from RAM modules causes the classic hole in PC memory between <code>640KB and 1MB</code>.</p>
</blockquote>
<p>另外，作者还举了一个内存映射 I/O的例子：<br><img src="/images/os/linux-kenel-0.11/boot/part1/memorymapio.png" alt><a href="http://duartes.org/gustavo/blog/post/motherboard-chipsets-memory-map/" target="_blank" rel="noopener">图片来源</a>  </p>
<p><strong>注：</strong>上图中 BIOS 还映射到 1MB 以外的内存空间。这个主要是因为随着计算机发展，BIOS 越来越复杂，所需映射的空间也越来越大，640KB~1MB 的空间已显得不足。在这里我们暂时忽略。</p>
<h3 id="Reset-Vector"><a href="#Reset-Vector" class="headerlink" title="Reset Vector"></a><strong>Reset Vector</strong></h3><p>Reset Vector 实际是一个物理地址，它跟内存末端距离 16 个字节，存放着一个 JMP 或者 CALL 指令。对于 4G RAM，Reset Vector 大小为 FFFFFFF0H。CPU 通过执行该地址处的指令就能够跳转到 BIOS 被映射到 RAM 的入口地址（0xF0000），开始执行 BIOS 程序。 </p>
<p>博文 <a href="http://duartes.org/gustavo/blog/post/motherboard-chipsets-memory-map/" target="_blank" rel="noopener">Motherboard Chipsets and the Memory Map</a>对此也有一个简要描述：  </p>
<blockquote>
<p>he motherboard ensures that the instruction at the reset vector is a jump to the memory location mapped to the BIOS entry point. This jump implicitly clears the hidden base address present at power up. All of these memory locations have the right contents needed by the CPU thanks to the memory map kept by the chipset. They are all mapped to flash memory containing the BIOS since at this point the RAM modules have random crap in them. An example of the relevant memory regions is shown below:  </p>
</blockquote>
<blockquote>
<p><img src="/images/os/linux-kenel-0.11/boot/part1/bootMemoryRegions.png" alt><a href="http://duartes.org/gustavo/blog/post/motherboard-chipsets-memory-map/" target="_blank" rel="noopener">图片来源</a>  </p>
</blockquote>
<p>当然，来自 <a href="http://pan.baidu.com/s/1mhf7Nmg" target="_blank" rel="noopener">Intel 80386 官方手册</a>的解释就来的更为权威：  </p>
<blockquote>
<p>After RESET, address lines A{31-20} are automatically asserted for instruction fetches. This fact, together with the initial values of CS:IP, causes instruction execution to begin at physical address FFFFFFF0H. Near (intrasegment) forms of control transfer instructions may be used to pass control to other addresses in the upper 64K bytes of the address space. <code>The first far (intersegment) JMP or CALL instruction causes A{31-20} to drop low, and the 80386 continues executing instructions in the lower one megabyte of physical memory. This automatic assertion of address lines A{31-20} allows systems designers to use a ROM at the high end of the address space to initialize the system.</code></p>
</blockquote>
<p><strong>不过需要注意的是</strong>，在 Linux 0.11 环境，计算机内存值有 16MB，此时 Reset Vector 大小为 0xFFFF0（其中CS=0xF000、IP=0xFFF0）。</p>
<hr>
<p>到此，也算是把前面的两个问题解决了。对这两个问题，个人其实花了很长时间才算真正解决。下边将参考过的资料列写如下：  </p>
<ul>
<li><a href="http://duartes.org/gustavo/blog/post/motherboard-chipsets-memory-map/" target="_blank" rel="noopener">Motherboard Chipsets and the Memory Map</a></li>
<li><a href="http://duartes.org/gustavo/blog/post/how-computers-boot-up/" target="_blank" rel="noopener">How Computers Boot Up</a></li>
<li><a href="http://duartes.org/gustavo/blog/post/kernel-boot-process/" target="_blank" rel="noopener">The Kernel Boot Process</a></li>
<li><a href="http://pan.baidu.com/s/1mhf7Nmg" target="_blank" rel="noopener">Intel 80386 官方手册</a></li>
<li><a href="https://www.quora.com/" target="_blank" rel="noopener">Quora</a> 上问题 <a href="https://www.quora.com/How-is-BIOS-program-loaded-into-memory-when-PC-just-boots-and-the-memory-is-clean-clean-means-nothing-has-been-loaded-into-the-memory" target="_blank" rel="noopener">How is BIOS program loaded into memory when PC just boots and the memory is clean (‘clean’ means nothing has been loaded into the memory)?</a>（自己提问的，哈哈！）的一个来自 <a href="https://www.quora.com/profile/Phillip-Remaker" target="_blank" rel="noopener">Phillip Remaker</a> 的<a href="https://www.quora.com/How-is-BIOS-program-loaded-into-memory-when-PC-just-boots-and-the-memory-is-clean-clean-means-nothing-has-been-loaded-into-the-memory/answer/Phillip-Remaker?__snids__=1589145144&amp;__nsrc__=1&amp;__filter__=all" target="_blank" rel="noopener">解答</a></li>
<li>StackOverflow 上的一个<a href="http://stackoverflow.com/questions/5300527/do-normal-x86-or-amd-pcs-run-startup-bios-code-directly-from-rom-or-do-they-cop" target="_blank" rel="noopener">解答</a></li>
</ul>
<p>前 3 个资料的作者是 <a href="http://duartes.org/gustavo/blog/about/" target="_blank" rel="noopener">Gustavo Duarte</a>。这个作者真的很赞，博文写的特别认真，而且还易懂透彻。以防链接失效，这 3 篇文章特备份到<a href="http://pan.baidu.com/s/1bopCA8f" target="_blank" rel="noopener">百度云</a>上。</p>
<h3 id="BIOS-加载中断向量表和中断向量服务程序"><a href="#BIOS-加载中断向量表和中断向量服务程序" class="headerlink" title="BIOS 加载中断向量表和中断向量服务程序"></a><strong>BIOS 加载中断向量表和中断向量服务程序</strong></h3><p>BIOS 除了上电自检（Power-on self test，POST），最重要的莫过于建立中断向量表以及中断向量服务程序。</p>
<p>按《Linux 内核设计的艺术》一书说法：  </p>
<blockquote>
<p>BIOS 程序在内存最开始的位置（0x00000）用 1KB 的的内存空间（0x00000~0x003FF）构建中断向量表，在紧挨着它的位置用 256 个字节的内存空间构建 BIOS 数据区（0x00400~0x004FF），并在大约 57KB 以后的位置（0x0E05B）加载了 8KB 左右与中断向量表相应的中断服务程序。下图标注了这些位置：  </p>
</blockquote>
<p><img src="/images/os/linux-kenel-0.11/boot/part1/BIOS在内存中加载中断向量表和中断服务程序.png" alt>图片来源：《Linux 内核设计的艺术》</p>
<p>关于中断向量表，可参考之前博文 <a href="http://xiehongfeng100.github.io/2016/01/27/linux-kenel-0-11-topic-necessary-preparation-part6/">Linux 内核学习笔记：预备知识之“中断和异常”</a>。</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/02/16/linux-kenel-0-11-topic-boot-part2/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Linux 内核学习笔记：内核引导程序之“bootsect.s”
        
      </div>
    </a>
  
  
    <a href="/2016/01/29/linux-kenel-0-11-topic-overview/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Linux 内核学习笔记：Linux 0.11 内核概述</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>







      <div id="gitalk-container"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js"></script>

<script>
var gitalk = new Gitalk({
  clientID: '64c19d7f57bebbb343c4',
  clientSecret: '287daeba39e73fdde92f24540c9f3c0fd5238512',
  repo: 'BlogComments',
  owner: 'xiemax100',
  admin: ['xiemax100'],
  id: md5(window.location.pathname),
  distractionFreeMode: true
})

gitalk.render('gitalk-container')
</script>






    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-0-11-内核引导程序概况"><span class="toc-number">1.</span> <span class="toc-text">Linux 0.11 内核引导程序概况</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#计算机启动流程及-BIOS"><span class="toc-number">2.</span> <span class="toc-text">计算机启动流程及 BIOS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机启动流程"><span class="toc-number">2.1.</span> <span class="toc-text">计算机启动流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#加载和执行-BIOS"><span class="toc-number">2.2.</span> <span class="toc-text">加载和执行 BIOS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#母板"><span class="toc-number">2.2.1.</span> <span class="toc-text">母板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内存映射-I-O"><span class="toc-number">2.2.2.</span> <span class="toc-text">内存映射 I/O</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Reset-Vector"><span class="toc-number">2.2.3.</span> <span class="toc-text">Reset Vector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BIOS-加载中断向量表和中断向量服务程序"><span class="toc-number">2.2.4.</span> <span class="toc-text">BIOS 加载中断向量表和中断向量服务程序</span></a></li></ol></li></ol></li></ol>
</div>
<style>
    .left-col .switch-btn {
        display: none;
    }
    .left-col .switch-area {
        display: none;
    }
</style>

<input type="button" id="tocButton" value="隐藏目录" title="点击按钮隐藏或者显示文章目录">

<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var toc_button = document.getElementById("tocButton");
    var toc_div = document.getElementById("toc");
    toc_button.onclick=function() {
        if (toc_div.style.display == "none") {
            toc_div.style.display = "block";
            toc_button.value = "隐藏目录";
            document.getElementById("switch-btn").style.display = "none";
            document.getElementById("switch-area").style.display = "none";
        }
        else {
            toc_div.style.display = "none";
            toc_button.value = "显示目录";
            document.getElementById("switch-btn").style.display = "block";
            document.getElementById("switch-area").style.display = "block";
        }
    }

    if ($(".toc").length < 1) {
        $("#toc").css("display","none");
        $("#tocButton").css("display","none");
        $(".switch-btn").css("display","block");
        $(".switch-area").css("display","block");
    }
</script>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2019 Max
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>